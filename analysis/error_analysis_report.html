<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Error Analysis Report</title>
    <style>
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
               margin: 0; padding: 20px; background: #f5f5f5; }
        .container { max-width: 1200px; margin: 0 auto; }
        h1 { color: #d32f2f; border-bottom: 3px solid #d32f2f; padding-bottom: 10px; }
        h2 { color: #333; margin-top: 30px; }
        .summary-cards { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
                         gap: 20px; margin: 20px 0; }
        .card { background: white; padding: 20px; border-radius: 8px;
                 box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
        .card.error { border-left: 4px solid #d32f2f; }
        .card h3 { margin: 0 0 10px 0; color: #666; font-size: 14px; }
        .card .value { font-size: 32px; font-weight: bold; color: #333; }
        table { width: 100%; border-collapse: collapse; background: white;
                 box-shadow: 0 2px 4px rgba(0,0,0,0.1); margin: 20px 0; }
        th, td { padding: 12px; text-align: left; border-bottom: 1px solid #eee; }
        th { background: #f8f8f8; font-weight: 600; }
        tr:hover { background: #f5f5f5; }
        .status-500 { color: #d32f2f; font-weight: bold; }
        .status-502 { color: #f57c00; font-weight: bold; }
        .status-503 { color: #7b1fa2; font-weight: bold; }
        .status-504 { color: #1976d2; font-weight: bold; }
        .remediation { background: #e8f5e9; padding: 15px; border-radius: 8px;
                        margin: 10px 0; border-left: 4px solid #4caf50; }
        .timestamp { color: #666; font-size: 12px; }
    </style>
</head>
<body>
    <div class="container">
        <h1>Error Analysis Report</h1>
        <p class="timestamp">Generated: 2025-12-02 11:57:28 UTC</p>

        <div class="summary-cards">
            <div class="card error">
                <h3>Total Errors</h3>
                <div class="value">19</div>
            </div>
            <div class="card">
                <h3>Error Rate</h3>
                <div class="value">19.0%</div>
            </div>
            <div class="card">
                <h3>Total Logs Analyzed</h3>
                <div class="value">100</div>
            </div>
        </div>

        <h2>Errors by HTTP Status Code</h2>
        <table>
            <tr><th>Status Code</th><th>Count</th><th>Description</th></tr>
            <tr><td class="status-500">500</td><td>7</td><td>Internal Server Error</td></tr><tr><td class="status-503">503</td><td>7</td><td>Service Unavailable</td></tr><tr><td class="status-502">502</td><td>3</td><td>Bad Gateway</td></tr><tr><td class="status-504">504</td><td>2</td><td>Gateway Timeout</td></tr>
        </table>

        <h2>Errors by Service</h2>
        <table>
            <tr><th>Service</th><th>Error Count</th></tr>
            <tr><td>product-service</td><td>7</td></tr><tr><td>order-service</td><td>4</td></tr><tr><td>api-gateway</td><td>4</td></tr><tr><td>user-service</td><td>4</td></tr>
        </table>

        <h2>Errors by Message Type</h2>
        <table>
            <tr><th>Error Message</th><th>Count</th></tr>
            <tr><td>Service unavailable: circuit breaker open</td><td>7</td></tr><tr><td>Internal server error: out of memory exception</td><td>4</td></tr><tr><td>Bad gateway: upstream service unavailable</td><td>3</td></tr><tr><td>Internal server error: database connection pool exhausted</td><td>2</td></tr><tr><td>Gateway timeout: request exceeded 30s limit</td><td>2</td></tr><tr><td>Internal server error: null pointer exception in OrderProcessor</td><td>1</td></tr>
        </table>

        <h2>Error Distribution by Hour</h2>
        <table>
            <tr><th>Hour (UTC)</th><th>Error Count</th></tr>
            <tr><td>10:00</td><td>2</td></tr><tr><td>11:00</td><td>1</td></tr><tr><td>12:00</td><td>3</td></tr><tr><td>13:00</td><td>2</td></tr><tr><td>14:00</td><td>3</td></tr><tr><td>15:00</td><td>2</td></tr><tr><td>16:00</td><td>4</td></tr><tr><td>17:00</td><td>2</td></tr>
        </table>

        <h2>Root Cause Analysis & Remediation</h2>
        <div class="remediation">
            <strong>Service unavailable: circuit breaker open</strong> (7 occurrences)<br>
            <strong>Root Cause:</strong> Downstream service failures triggered circuit breaker<br>
            <strong>Remediation:</strong> Investigate downstream service health, implement retry logic, consider fallback mechanisms
        </div><div class="remediation">
            <strong>Internal server error: out of memory exception</strong> (4 occurrences)<br>
            <strong>Root Cause:</strong> Application memory limits exceeded, possible memory leak<br>
            <strong>Remediation:</strong> Increase heap size, analyze memory usage patterns, implement proper garbage collection tuning
        </div><div class="remediation">
            <strong>Bad gateway: upstream service unavailable</strong> (3 occurrences)<br>
            <strong>Root Cause:</strong> Upstream dependency is down or unreachable<br>
            <strong>Remediation:</strong> Check upstream service health, implement service mesh, add health checks and monitoring
        </div><div class="remediation">
            <strong>Internal server error: database connection pool exhausted</strong> (2 occurrences)<br>
            <strong>Root Cause:</strong> Database connection pool is undersized for current load<br>
            <strong>Remediation:</strong> Increase connection pool size, optimize query performance, implement connection pooling best practices
        </div><div class="remediation">
            <strong>Gateway timeout: request exceeded 30s limit</strong> (2 occurrences)<br>
            <strong>Root Cause:</strong> Long-running requests causing timeouts<br>
            <strong>Remediation:</strong> Optimize slow queries, implement async processing, consider increasing timeout for specific endpoints
        </div><div class="remediation">
            <strong>Internal server error: null pointer exception in OrderProcessor</strong> (1 occurrences)<br>
            <strong>Root Cause:</strong> Null reference in application code<br>
            <strong>Remediation:</strong> Add null checks, use Optional types, implement defensive programming practices
        </div>

        <h2>Error Cascades Detected</h2>
        <table>
            <tr><th>Trigger Service</th><th>Affected Service</th><th>Trigger Message</th></tr>
            <tr><td>order-service</td><td>product-service</td><td>Internal server error: database connection pool exhausted</td></tr><tr><td>product-service</td><td>api-gateway</td><td>Bad gateway: upstream service unavailable</td></tr><tr><td>api-gateway</td><td>order-service</td><td>Service unavailable: circuit breaker open</td></tr><tr><td>order-service</td><td>product-service</td><td>Internal server error: database connection pool exhausted</td></tr><tr><td>product-service</td><td>user-service</td><td>Service unavailable: circuit breaker open</td></tr><tr><td>user-service</td><td>api-gateway</td><td>Bad gateway: upstream service unavailable</td></tr><tr><td>api-gateway</td><td>user-service</td><td>Internal server error: out of memory exception</td></tr><tr><td>user-service</td><td>product-service</td><td>Gateway timeout: request exceeded 30s limit</td></tr><tr><td>product-service</td><td>order-service</td><td>Service unavailable: circuit breaker open</td></tr><tr><td>order-service</td><td>user-service</td><td>Gateway timeout: request exceeded 30s limit</td></tr>
        </table>

        <h2>Recent Error Details</h2>
        <table>
            <tr><th>Timestamp</th><th>Service</th><th>Status</th><th>Endpoint</th><th>Response Time</th></tr>
            <tr><td>2025-12-01T10:00:00Z</td><td>order-service</td><td class="status-500">500</td><td>/api/users</td><td>29132ms</td></tr><tr><td>2025-12-01T10:10:00Z</td><td>product-service</td><td class="status-500">500</td><td>/api/checkout</td><td>14115ms</td></tr><tr><td>2025-12-01T11:55:00Z</td><td>product-service</td><td class="status-500">500</td><td>/api/orders</td><td>12133ms</td></tr><tr><td>2025-12-01T12:05:00Z</td><td>product-service</td><td class="status-502">502</td><td>/api/users</td><td>23970ms</td></tr><tr><td>2025-12-01T12:25:00Z</td><td>api-gateway</td><td class="status-500">500</td><td>/api/checkout</td><td>8394ms</td></tr><tr><td>2025-12-01T12:35:00Z</td><td>api-gateway</td><td class="status-503">503</td><td>/api/users</td><td>25876ms</td></tr><tr><td>2025-12-01T13:20:00Z</td><td>order-service</td><td class="status-500">500</td><td>/api/checkout</td><td>18382ms</td></tr><tr><td>2025-12-01T13:55:00Z</td><td>product-service</td><td class="status-503">503</td><td>/api/orders</td><td>12683ms</td></tr><tr><td>2025-12-01T14:35:00Z</td><td>user-service</td><td class="status-502">502</td><td>/api/users</td><td>23480ms</td></tr><tr><td>2025-12-01T14:40:00Z</td><td>api-gateway</td><td class="status-500">500</td><td>/api/users</td><td>23962ms</td></tr><tr><td>2025-12-01T14:55:00Z</td><td>user-service</td><td class="status-504">504</td><td>/api/orders</td><td>25182ms</td></tr><tr><td>2025-12-01T15:15:00Z</td><td>product-service</td><td class="status-503">503</td><td>/api/orders</td><td>18942ms</td></tr><tr><td>2025-12-01T15:55:00Z</td><td>order-service</td><td class="status-504">504</td><td>/api/orders</td><td>28165ms</td></tr><tr><td>2025-12-01T16:15:00Z</td><td>user-service</td><td class="status-503">503</td><td>/api/checkout</td><td>21112ms</td></tr><tr><td>2025-12-01T16:20:00Z</td><td>order-service</td><td class="status-502">502</td><td>/api/orders</td><td>14444ms</td></tr><tr><td>2025-12-01T16:40:00Z</td><td>api-gateway</td><td class="status-503">503</td><td>/api/users</td><td>12362ms</td></tr><tr><td>2025-12-01T16:55:00Z</td><td>product-service</td><td class="status-500">500</td><td>/api/checkout</td><td>20870ms</td></tr><tr><td>2025-12-01T17:15:00Z</td><td>product-service</td><td class="status-503">503</td><td>/api/checkout</td><td>29884ms</td></tr><tr><td>2025-12-01T17:20:00Z</td><td>user-service</td><td class="status-503">503</td><td>/api/users</td><td>29915ms</td></tr>
        </table>
    </div>
</body>
</html>